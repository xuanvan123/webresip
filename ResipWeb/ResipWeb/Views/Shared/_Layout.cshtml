@using ResipWeb.Models
@inject AppDbContext _context
@{
    var setting = _context.WebsiteSettings.FirstOrDefault();
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<!DOCTYPE html>
<html lang="vi">
<head>

    <style>
        .home-newsletter {
            background-color: #f5f5f5 !important;
            padding: 15px 0;
        }


            .home-newsletter .container {
                background-color: transparent; /* hoặc #f5f5f5, */
                border-radius: 0;
                padding: 0;
                box-shadow: none;
            }

            /* Nếu footer bị thêm nền khác, ép nó trong khu này luôn */
            .home-newsletter footer {
                background-color: transparent;
                padding: 0;
            }

        .footer-static-block.footer-certificate {
            display: block;
            text-align: left;
            padding-left: 30px;
        }

            .footer-static-block.footer-certificate div {
                margin-bottom: 10px;
                display: block;
            }

            .footer-static-block.footer-certificate img {
                max-width: 100%;
                height: auto;
            }

        .home-newsletter .single {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Tiêu đề */
        .home-newsletter h2 {
            color: #000000 !important;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .home-newsletter .input-group input {
            border-radius: 4px;
        }

        .home-newsletter .btn-theme {
            background-color: #026625;
            border: none;
            color: #fff;
        }

        /* Nút Subscribe */
        .home-newsletter .input-group-btn button {
            background-color: #026625 !important;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
        }

        .home-newsletter .btn-theme:hover {
            background-color: #006910ff;
        }

        /* Nút Subscribe hover */
        .home-newsletter .input-group-btn button:hover {
            background-color: #d8c7c3 !important;
            color: #000;
        }

        /* Flex */
        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        /* Responsive */
        @@media (min-width: 768px) {
            .md\:flex-row {
                flex-direction: row;
            }
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-6 {
            gap: 3.5rem;
        }

        footer {
            justify-content: space-between;
            padding: 20px;
            background-color: #f8f8f8;
            width: 100%;
        }

        .footer-static-block {
            font-size: 13px;
            overflow: hidden;
            width: 100%;
        }

            .footer-static-block div {
                display: flex;
                justify-content: space-between;
            }

            .footer-static-block ul {
                list-style: none;
                padding: 0;
            }

                .footer-static-block ul li {
                    margin-bottom: 8px;
                }

                    .footer-static-block ul li strong {
                        display: block;
                        margin-bottom: 16px;
                    }

                .footer-static-block ul:nth-child(2) {
                    margin-bottom: 24px;
                }

        .footer-menu {
            font-size: 13px;
        }

        .text-\[13px\] {
            font-size: 13px;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        .w-full {
            width: 100%;
        }

        .undefined {
            /* placeholder */
        }

        .footer-wrapper {
            width: 100%;
            max-width: 100%;
            padding: 10px 50px; /* chỉnh padding theo ý */
            display: flex;
            justify-content: space-between;
        }

        footer .container,
        footer .row {
            max-width: 100% !important;
            width: 100% !important;
        }
    </style>

    <!-- Meta Tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <!-- Title -->
    <title>@ViewData["Title"] - Bình Nước Silicon ReSip</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="~/assets/uploads/favicon.png" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="~/assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="~/assets/css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="~/assets/css/jquery.bxslider.min.css" />
    <link rel="stylesheet" href="~/assets/css/magnific-popup.css" />
    <link rel="stylesheet" href="~/assets/css/rating.css" />
    <link rel="stylesheet" href="~/assets/css/spacing.css" />
    <link rel="stylesheet" href="~/assets/css/bootstrap-touch-slider.css" />
    <link rel="stylesheet" href="~/assets/css/animate.min.css" />
    <link rel="stylesheet" href="~/assets/css/tree-menu.css" />
    <link rel="stylesheet" href="~/assets/css/select2.min.css" />
    <link rel="stylesheet" href="~/assets/css/main.css" />
    <link rel="stylesheet" href="~/assets/css/responsive.css" />
    <link rel="stylesheet" href="~/assets/css/gioithieu.css" />




    <!-- CSS menu  -->
    <style>
        .menu-container {
            text-align: right;
            background-color: #026625;
        }

        .menu ul {
            list-style: none;
            padding-right: 0;
            margin: 0;
        }

            .menu ul li {
                display: inline-block;
                margin-left: 30px;
            }

                .menu ul li a {
                    text-decoration: none;
                    color: #ffffff;
                }
    </style>

    @RenderSection("Styles", required: false)
</head>
<body>

    <!-- top bar -->
    <div class="top" style="background-color: #28A745; color: #ffffff;">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="left">
                        <ul>
                            <li><i class="fa fa-phone"></i>  0123 456 789</li>
                            <li><i class="fa fa-envelope-o"></i> hotro.resip@gmail.com</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="right">
                        <ul>
                            <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="#"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                            <li><a href="#"><i class="fa fa-whatsapp"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- header -->
    <div class="header">
        <div class="container">
            <div class="row inner" style="display:flex;align-items:center;justify-content:space-between;gap:12px;padding: 10px 0;">

                <!-- Logo -->
                <div class="col-md-3 col-sm-12 logo" style="display:flex;align-items:center;">
                    @* Trang chủ, dùng MVC nhưng giữ layout *@
                    <a asp-controller="Home" asp-action="Index" style="display:inline-block;margin-left:14px;">
                        <img src="~/assets/uploads/logo.png" alt="logo image" style="max-height:63px;">
                    </a>
                </div>

                <!-- Search -->
                <div class="col-md-6 col-sm-12" style="display:flex;justify-content:center;">
                    <form asp-controller="SanPham" asp-action="Index" method="get"
                          style="display:flex;align-items:center;width:100%;max-width:680px;">

                        <input type="text"
                               class="form-control"
                               name="search"
                               value="@Context.Request.Query["search"]"
                               placeholder="Nhập sản phẩm cần tìm..."
                               style="flex:1;height:35px;font-size:16px;padding:10px 14px;border-radius:6px;">

                        <button type="submit"
                                class="btn"
                                style="height:35px;margin-left:10px;padding:0 18px;border:none;border-radius:6px;
                       background:#28A745;color:#fff;font-size:15px;">
                            Tìm kiếm
                        </button>
                    </form>
                </div>

                <!-- Account + Cart -->
                <div class="col-md-3 col-sm-12" style="display:flex;justify-content:flex-start;align-items:center; padding-left:20px;">
                    <div style="white-space:nowrap;font-size:14px; margin-left:10px; display: flex; align-items: center;">

                        @if (Context.User.Identity != null && Context.User.Identity.IsAuthenticated)
                        {
                            // === PHẦN 1: TÊN NGƯỜI DÙNG (Click là về trang Profile cũ) ===
                            <a asp-controller="Account" asp-action="Profile" title="Sửa thông tin"
                               style="color: #026625; font-weight: bold; text-decoration: none; cursor: pointer; margin-right: 5px;">
                                <i class="fa fa-user"></i> Xin chào, @Context.User.FindFirst("FullName")?.Value
                            </a>

                            // === PHẦN 2: NÚT MŨI TÊN (Click là xổ Menu) ===
                            <div class="dropdown" style="display:inline-block;">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"
                                   style="color: #333; padding: 5px;">
                                    <i class="fa fa-caret-down"></i>
                                </a>

                                <ul class="dropdown-menu" style="right: 0; left: auto; min-width: 180px; margin-top: 10px; border-top: 3px solid #026625;">
                                    <li>
                                        <a asp-controller="Account" asp-action="Dashboard" style="padding: 10px 20px;">
                                            <i class="fa fa-dashboard" style="margin-right: 5px;"></i> Trang tài khoản
                                        </a>
                                    </li>
                                    <li>
                                        <a asp-controller="LichSuDonHang" asp-action="Index" style="padding: 10px 20px;">
                                            <i class="fa fa-list-alt" style="margin-right: 5px;"></i> Lịch sử đơn hàng
                                        </a>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <li>
                                        <a asp-controller="Account" asp-action="Logout" style="padding: 10px 20px; color: #d9534f;">
                                            <i class="fa fa-sign-out" style="margin-right: 5px;"></i> Đăng xuất
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        }
                        else
                        {
                            // === CHƯA ĐĂNG NHẬP (Giữ nguyên) ===
                            <a asp-controller="Account" asp-action="Login" style="color: #333; text-decoration: none;">
                                <i class="fa fa-sign-in"></i> Đăng nhập
                            </a>
                            <span> | </span>
                            <a asp-controller="Account" asp-action="Register" style="color: #333; text-decoration: none;">
                                <i class="fa fa-user-plus"></i> Đăng ký
                            </a>
                        }

                        <span style="margin: 0 5px;"> | </span>
                        <li class="nav-item" style="display:inline-block; list-style:none;">
                            <a class="nav-link" asp-controller="Cart" asp-action="Index" style="color: #333; text-decoration: none;">
                                <i class="fa fa-shopping-cart"></i> Giỏ hàng
                                @await Component.InvokeAsync("CartSummary")
                            </a>
                        </li>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- nav -->
    <div class="nav" style="background-color: #026625; color: #ffffff;">
        <div class="container" style="background-color: #026625; color: #ffffff;">
            <div class="row">
                <div class="col-md-12 pl_0 pr_0">
                    <div class="menu-container" style="background-color: #026625; color: #ffffff;">
                        <div class="menu">
                            <ul>
                                <li><a asp-controller="Home" asp-action="Index">Trang chủ</a></li>
                                <li>
                                    <a asp-controller="SanPham"
                                       asp-action="DanhMuc"
                                       asp-route-slug="binh-nuoc">BÌNH NƯỚC</a>
                                </li>
                                <li>
                                    <a asp-controller="SanPham"
                                       asp-action="DanhMuc"
                                       asp-route-slug="ong-hut">ỐNG HÚT</a>
                                </li>

                                <li><a asp-controller="GioiThieu" asp-action="GioiThieu">Giới Thiệu</a></li>
                                <li>
                                    <a asp-controller="CauHoiThuongGap" asp-action="CauHoiThuongGap">
                                        Câu Hỏi Thường Gặp
                                    </a>
                                </li>
                                <li><a asp-controller="LienHe" asp-action="LienHe">Liên Hệ</a></li>

                                <li><a asp-controller="TinTuc" asp-action="TinTuc">Tin tức</a></li>

                            </ul>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- NỘI DUNG TRANG -->
    @RenderBody()

    <!-- Scripts -->
    <script src="~/assets/js/jquery-2.2.4.min.js"></script>
    <script src="~/assets/js/bootstrap.min.js"></script>
    <script src="~/assets/js/megamenu.js"></script>
    <script src="~/assets/js/owl.carousel.min.js"></script>
    <script src="~/assets/js/owl.animate.js"></script>
    <script src="~/assets/js/jquery.bxslider.min.js"></script>
    <script src="~/assets/js/jquery.magnific-popup.min.js"></script>
    <script src="~/assets/js/rating.js"></script>
    <script src="~/assets/js/jquery.touchSwipe.min.js"></script>
    <script src="~/assets/js/bootstrap-touch-slider.js"></script>
    <script src="~/assets/js/select2.full.min.js"></script>
    <script src="~/assets/js/custom.js"></script>



    @RenderSection("Scripts", required: false)

    <section class="home-newsletter">
        <footer>
            <div class="flex flex-col md:flex-row justify-between gap-6">

                <div class="footer-logo-wrapper">
                    <div class="footer-static-block footer-logo text-[13px] overflow-hidden w-full mb-6 md:mb-12">
                    </div>

                    <div class="footer-static-block footer-certificate">
                        <div style="flex: 1;">
                            <img src="~/assets/uploads/logo.png" alt="Resip Logo" style="width: 200px; height: 200px; object-fit: contain;" />
                        </div>
                        <div>
                            <p style="font-size: 16px; text-align: left;">
                                <b>CÔNG TY TNHH RESIP VIỆT NAM</b>
                            </p>

                            <div style="font-size: 14px; text-align: left; margin-top: 10px; color: #555;">
                                @if (setting != null && !string.IsNullOrEmpty(setting.FooterContent))
                                {
                                    @* ĐÂY LÀ DÒNG QUAN TRỌNG: Nó bốc dữ liệu từ Admin ra giao diện User *@
                                    @Html.Raw(setting.FooterContent)
                                }
                                else
                                {
                                    @* Nếu trong Admin chưa nhập gì thì hiện mặc định dòng này *@
                                    <p>Địa chỉ: 279 Nguyễn Tri Phương, Phường Diên Hồng, Quận 10, TP. HCM</p>
                                    <p>Hotline: 012345678</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>

                <div class="footer-static-block footer-menu text-[13px] overflow-hidden w-full undefined"
                     style="justify-content: space-between; padding: 20px;">
                    <div style="font-size: 18px;">
                        <ul>
                            <li style="color: #026625"><strong>Về RESIP</strong></li>
                            <li><a title="ReSip là gì?" href="#">Giới Thiệu Resip</a></li>
                            <li><a href="#">Thông báo</a></li>
                            <li><a title="Câu hỏi thường gặp" href="#">Câu hỏi thường gặp</a></li>
                        </ul>

                        <ul style="margin-bottom: 24px;">
                            <li style="color: #026625"><strong>Cửa hàng Bán lẻ</strong></li>
                            <li><a href="#">Chính sách Đổi, Trả, Hoàn tiền</a></li>
                            <li><a href="#">Danh sách cửa hàng</a></li>
                        </ul>

                        <ul>
                            <li style="color: #026625"><strong>Cửa hàng Trực tuyến</strong></li>
                            <li><a href="#">Chính sách Bán hàng</a></li>
                            <li><a href="#">Chính sách Giao hàng</a></li>
                            <li><a href="#">Chính sách Bảo hành</a></li>
                            <li><a href="#">Chính sách Bảo mật</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footer-subscribe-wrapper" style="padding-top: 20px; width: 40%; padding-right: 30px;">
                    <form action="" method="post">
                        <p style="color: #026625; font-size: 18px">
                            <strong>Đăng ký nhận tin từ ReSip</strong>
                        </p>
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Nhập Email của bạn vào" name="email_subscribe" />
                            <span class="input-group-btn">
                                <button class="btn btn-theme" type="submit" name="form_subscribe" style="padding: 7px;">
                                    Đăng ký
                                </button>
                            </span>
                        </div>
                    </form>
                </div>

            </div>
        </footer>
    </section>

</body>
</html>
